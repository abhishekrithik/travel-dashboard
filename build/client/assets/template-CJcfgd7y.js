
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="f4c2fa90-8db5-5e42-95bb-4aaccf3fcc40")}catch(e){}}();
import{a as b}from"./chunk-PVWAREVJ-BgzlSlvQ.js";import{r as P}from"./index-CRYscaEA.js";import{k as O,i as C,x as E,y as T,z as A,F as M,G as F,H as w}from"./sanitize-helper-DzDTF7ck.js";var B=function(){var l=function(s,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},l(s,t)};return function(s,t){l(s,t);function e(){this.constructor=s}s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),_=["alt","className","disabled","form","id","readOnly","style","tabIndex","title","type","name","onClick","onFocus","onBlur"],K=["accordion","tab","splitter"],J=/\]/,X=function(l){B(s,l);function s(){var t=l!==null&&l.apply(this,arguments)||this;return t.mountingState=!1,t.attrKeys=[],t.cachedTimeOut=0,t.isAppendCalled=!1,t.initRenderCalled=!1,t.isReactForeceUpdate=!1,t.isReact=!0,t.isshouldComponentUpdateCalled=!1,t.isCreated=!1,t}return s.prototype.componentDidMount=function(){this.refreshChild(!0),this.canDelayUpdate=K.indexOf(this.getModuleName())!==-1,this.renderReactComponent(),this.portals&&this.portals.length&&(this.mountingState=!0,this.renderReactTemplates(),this.mountingState=!1)},s.prototype.componentDidUpdate=function(t){!this.isshouldComponentUpdateCalled&&this.initRenderCalled&&!this.isReactForeceUpdate&&t!==this.props&&(this.isshouldComponentUpdateCalled=!0,this.updateProperties(this.props,!1,t))},s.prototype.renderReactComponent=function(){var t=this.reactElement;t&&!this.isAppendCalled&&(this.isAppendCalled=!0,this.appendTo(t))},s.prototype.shouldComponentUpdate=function(t){return this.isshouldComponentUpdateCalled=!0,this.initRenderCalled?(this.isAppendCalled||(clearTimeout(this.cachedTimeOut),this.isAppendCalled=!0,this.appendTo(this.reactElement)),this.updateProperties(t),!0):(this.updateProperties(t,!0),!0)},s.prototype.updateProperties=function(t,e,r){for(var i=this,n=O({},t),o=Object.keys(t),u=O({},r||this.props),f=C(u.statelessTemplates)?C(this.statelessTemplateProps)?[]:this.statelessTemplateProps:u.statelessTemplates,h=0,p=o;h<p.length;h++){var a=p[h],m=a==="className";if(a!=="children")if(!m&&!C(this.htmlattributes[""+a])&&this.htmlattributes[""+a]!==n[""+a]&&(this.htmlattributes[""+a]=n[""+a]),this.compareValues(u[""+a],t[""+a]))delete n[""+a];else if(this.attrKeys.indexOf(a)!==-1)if(m){this.clsName=!0;for(var x=u[""+a].split(" "),v=0;v<x.length;v++)this.element.classList.remove(x[parseInt(v.toString(),10)]);for(var g=n[""+a].split(" "),c=0;c<g.length;c++)this.element.classList.add(g[parseInt(c.toString(),10)])}else a!=="disabled"&&!Object.prototype.hasOwnProperty.call(this.properties,a)&&delete n[""+a];else(a==="value"&&t[""+a]===this[""+a]||f.indexOf(a)>-1&&(a==="content"&&typeof n[""+a]=="function"||t[""+a].toString()===this[""+a].toString()))&&delete n[""+a]}n.children&&delete n.children,this.initRenderCalled&&(this.canDelayUpdate||u.delayUpdate)?setTimeout(function(){i.refreshProperties(n,t,e)}):this.refreshProperties(n,t,e)},s.prototype.refreshProperties=function(t,e,r){var i=C(this.props.statelessTemplates)?[]:this.props.statelessTemplates;Object.keys(t).length&&(r||this.processComplexTemplate(t,this),this.setProperties(t,r)),i.indexOf("directiveTemplates")===-1&&this.refreshChild(r,e)},s.prototype.processComplexTemplate=function(t,e){var r=e.complexTemplate;if(r){for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)){var n=r[""+i];t[""+i]&&E(n,T(i,t),t)}}},s.prototype.getDefaultAttributes=function(){var t=this;this.isReact=!0;var e=Object.keys(this.props),r=["children","statelessTemplates","immediateRender","isLegacyTemplate","delayUpdate"];this.htmlattributes||(this.htmlattributes={}),this.attrKeys=_.concat(this.controlAttributes||[]);for(var i=0,n=e;i<n.length;i++){var o=n[i];(o.indexOf("data-")!==-1||o.indexOf("aria-")!==-1||this.attrKeys.indexOf(o)!==-1||Object.keys(this.properties).indexOf(""+o)===-1&&r.indexOf(""+o)===-1)&&this.htmlattributes[""+o]!==this.props[""+o]&&(this.htmlattributes[""+o]=this.props[""+o])}if(!this.htmlattributes.ref){this.htmlattributes.ref=function(a){t.reactElement=a};var u=["autocomplete","combobox","dropdownlist","dropdowntree","multiselect","listbox","colorpicker","numerictextbox","textbox","smarttextarea","uploader","maskedtextbox","slider","datepicker","datetimepicker","daterangepicker","timepicker","checkbox","switch","radio","rating","textarea","multicolumncombobox"];u.indexOf(this.getModuleName())!==-1&&(this.htmlattributes.key=""+s.reactUid,s.reactUid++,this.type&&!this.htmlattributes.type&&(this.htmlattributes.type=this.multiline?"hidden":this.type),this.name&&!this.htmlattributes.name&&(this.htmlattributes.name=this.name))}if(this.clsName)for(var f=this.element.classList,h=this.htmlattributes.className,p=0;p<f.length;p++)h.indexOf(f[parseInt(p.toString(),10)])===-1&&(this.htmlattributes.className=this.htmlattributes.className+" "+f[parseInt(p.toString(),10)]);return this.htmlattributes},s.prototype.trigger=function(t,e,r){var i=this;if(this.isDestroyed!==!0&&this.modelObserver){if(J.test(t)){var n=T(t,this);n?(n.call(this,e),r&&r.call(this,e)):r&&r.call(this,e)}(t==="change"||t==="input")&&this.props.onChange&&e.event&&this.props.onChange.call(void 0,{syntheticEvent:e.event,nativeEvent:{text:e.value},value:e.value,target:this});var o=this.isProtectedOnChange;this.isProtectedOnChange=!1,t==="created"?setTimeout(function(){i.isCreated=!0,i.isDestroyed||i.modelObserver.notify(t,e,r)},10):this.modelObserver.notify(t,e,r),this.isProtectedOnChange=o}},s.prototype.compareValues=function(t,e){var r=typeof t,i=typeof e;if(r===i){if(t===e)return!0;if((!C(t)&&t.constructor)!==(!C(e)&&e.constructor))return!1;if(t instanceof Date||t instanceof RegExp||t instanceof String||t instanceof Number)return t.toString()===e.toString();if(A(t)||Array.isArray(t)){var n=t,o=e;return A(n)&&(n=[t],o=[e]),this.compareObjects(n,o).status}if(t.moduleName&&t.moduleName===e.moduleName&&(t.moduleName==="query"||t.moduleName==="datamanager")&&JSON.stringify(t)===JSON.stringify(e))return!0}return!1},s.prototype.compareObjects=function(t,e,r){var i=!0,n=t.length===e.length,o=[],u=C(this.templateProps)?[]:this.templateProps;if(n)for(var f=0,h=e.length;f<h;f++){var p={},a=t[parseInt(f.toString(),10)],m=e[parseInt(f.toString(),10)],x=Object.keys(m);if(x.length!==0)for(var v=0,g=x;v<g.length;v++){var c=g[v],I=a[""+c],d=m[""+c];if(c==="items"){for(var S=0;S<d.length;S++)if(this.getModuleName()==="richtexteditor"&&typeof d[parseInt(S.toString(),10)]=="object")return{status:!0}}if(this.getModuleName()==="grid"&&c==="field"&&(p[""+c]=d),!Object.prototype.hasOwnProperty.call(a,c)||!(u.length>0&&u.indexOf(""+c)===-1&&typeof d=="function"?this.compareValues(I.toString(),d.toString()):this.compareValues(I,d))){if(!r)return{status:!1};i=!1,p[""+c]=d}}else if(e[parseInt(f.toString(),10)]===t[parseInt(f.toString(),10)])i=!0;else{if(!r)return{status:!1};i=!1}this.getModuleName()==="grid"&&r==="columns"&&C(p.field)&&(p.field=void 0),Object.keys(p).length&&o.push({index:f,value:p,key:r})}else i=!1;return{status:i,changedProperties:o}},s.prototype.refreshChild=function(t,e){if(this.checkInjectedModules){for(var r=this.getInjectedModules()||[],i=this.getInjectedServices()||[],n=0,o=i;n<o.length;n++){var u=o[n];r.indexOf(u)===-1&&r.push(u)}this.injectedModules=r}if(this.directivekeys){var f=[],h="",p=this.validateChildren({},this.directivekeys,e||this.props);if(p&&Object.keys(p).length){if(!t&&this.skipRefresh)for(var a=0,m=this.skipRefresh;a<m.length;a++){var x=m[a];delete p[""+x]}if(this.prevProperties){for(var v=Object.keys(this.prevProperties),g=0;g<v.length;g++)if(h=v[parseInt(g.toString(),10)],!!Object.prototype.hasOwnProperty.call(p,h)){var c=this.compareObjects(this.prevProperties[""+h],p[""+h],h);if(c.status)delete p[""+h];else{c.changedProperties.length&&(f=f.concat(c.changedProperties));var I={};I[""+h]=p[""+h],this.prevProperties=O(this.prevProperties,I)}}}else this.prevProperties=O({},p,{},!0);if(f.length)if(this.getModuleName()==="grid"&&h==="columns")for(var d=0,S=this.columns;d<S.length;d++){var N=T("field",S[parseInt(d.toString(),10)]),D=T(d+".value.field",f);if(N===D){var y=T(f[parseInt(d.toString(),10)].key+"."+f[parseInt(d.toString(),10)].index,this);y&&y.setProperties?y.setProperties(f[parseInt(d.toString(),10)].value):O(y,f[parseInt(d.toString(),10)].value)}else this.setProperties(p,t)}else for(var j=0,R=f;j<R.length;j++){var U=R[j],y=T(U.key+"."+U.index,this);y&&y.setProperties?y.setProperties(U.value):O(y,U.value)}else this.setProperties(p,t)}}},s.prototype.componentWillUnmount=function(){clearTimeout(this.cachedTimeOut);var t=["dropdowntree","checkbox"],e=t.indexOf(this.getModuleName())?!0:document.body.contains(this.element);this.initRenderCalled&&this.isAppendCalled&&this.element&&e&&!this.isDestroyed&&this.isCreated&&this.destroy(),M.offIntlEvents()},s.prototype.appendReactElement=function(t,e){var r=P.createPortal(t,e);this.portals?this.portals.push(r):this.portals=[r]},s.prototype.renderReactTemplates=function(t){this.isReactForeceUpdate=!0,t?this.forceUpdate(t):this.forceUpdate(),this.isReactForeceUpdate=!1},s.prototype.clearTemplate=function(t,e,r){var i=this;t&&t.length?Array.prototype.forEach.call(t,function(n){if(i.portals.forEach(function(u){u.propName}),!C(e)&&i.portals[e]&&i.portals[e].propName===n)i.portals.splice(e,1);else for(var o=0;o<i.portals.length;o++)i.portals[parseInt(o.toString(),10)].propName===n&&(i.portals.splice(o,1),o--)}):this.portals=[],this.renderReactTemplates(r)},s.prototype.validateChildren=function(t,e,r){for(var i=!1,n=b.Children.toArray(r.children),o=0,u=n;o<u.length;o++){var f=u[o],h=this.getChildType(f),p=e[""+h];if(h&&e){var a=this.getChildProps(b.Children.toArray(f.props.children),p);a.length&&(i=!0,t[f.type.propertyName||h]=a)}}return i?t:null},s.prototype.getChildType=function(t){return t.type&&t.type.isDirective&&t.type.moduleName||""},s.prototype.getChildProps=function(t,e){for(var r=[],i=0,n=t;i<n.length;i++){var o=n[i],u=!1,f=void 0;typeof e=="string"?(u=!0,f=e):f=Object.keys(e)[0];var h=o.props,p=this.getChildType(o);if(p===f)if(u||!h.children){var a=O({},h,{},!0);this.processComplexTemplate(a,o.type),r.push(a)}else{var m=this.validateChildren(O({},h),e[""+f],h)||h;m.children&&delete m.children,this.processComplexTemplate(m,o.type),r.push(m)}}return r},s.prototype.getInjectedServices=function(){for(var t=b.Children.toArray(this.props.children),e=0,r=t;e<r.length;e++){var i=r[e];if(i.type&&i.type.isService)return i.props.services}return[]},s.reactUid=1,s}(b.Component);function Y(l,s){s.forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(e){e!=="isMounted"&&e!=="replaceState"&&e!=="render"&&(l.prototype[""+e]=t.prototype[""+e])})})}var L=function(){var l=function(s,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},l(s,t)};return function(s,t){l(s,t);function e(){this.constructor=s}s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),Z=function(l){L(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.render=function(){return null},s.isDirective=!0,s}(b.PureComponent),$=function(){var l=function(s,t){return l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])},l(s,t)};return function(s,t){l(s,t);function e(){this.constructor=s}s.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}}(),H=function(l){$(s,l);function s(){return l!==null&&l.apply(this,arguments)||this}return s.prototype.render=function(){return null},s.isService=!0,s}(b.PureComponent),q=F();function z(l,s){return typeof l=="string"||l.prototype&&l.prototype.CSPTemplate&&typeof l=="function"?q(l,s):function(t,e,r,i){var n=l,o=t;typeof n=="object"&&(n=l.template,o=O({},t,l.data||{}));var u;i?u=i:u=document.createElement("div");var f=b.createElement(n,o),h=P.createPortal(f,u);if(h.propName=r,e.portals?e.portals.push(h):e.portals=[h],!i)return[u]}}w({compile:z});export{Z as C,H as I,Y as a,X as b};

//# debugId=f4c2fa90-8db5-5e42-95bb-4aaccf3fcc40
