
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="074e3aa0-10f1-50ff-b531-cad21d914e1f")}catch(e){}}();
import{a as _,h as W,f as Q,j as n,L as P,N as X,w as G,r as O,O as H}from"./chunk-PVWAREVJ-BgzlSlvQ.js";import{s as q}from"./index-DuYsuYiU.js";import{c as U}from"./utils-BiYSaEEe.js";import{a as $,g as Z,s as F}from"./auth-BoLGUcMA.js";import"./create-trip-CEk4FKq_.js";import{a as K,b as V}from"./template-CJcfgd7y.js";import{B as g,a,c as d,i as m,s as p,o as C,E as b,n as Y,T as z,P as h,e as w,N as J,C as ee}from"./sanitize-helper-DzDTF7ck.js";import{a as te}from"./client-TZMqkS_A.js";import"./index-CRYscaEA.js";var ie=function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var r in s)s.hasOwnProperty(r)&&(i[r]=s[r])},o(e,t)};return function(e,t){o(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),l=function(o,e,t,i){var s=arguments.length,r=s<3?e:i===null?i=Object.getOwnPropertyDescriptor(e,t):i,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")r=Reflect.decorate(o,e,t,i);else for(var y=o.length-1;y>=0;y--)(c=o[y])&&(r=(s<3?c(r):s>3?c(e,t,r):c(e,t))||r);return s>3&&r&&Object.defineProperty(e,t,r),r},se="e-control",R="e-sidebar",ne="e-dock",f="e-close",u="e-open",j="e-transition",T="e-sidebar-overlay",oe="e-rtl",x="e-right",D="e-left",k="e-over",v="e-push",S="e-slide",A="e-visibility",re="e-sidebar-display",ae="e-content-animation",L="e-disable-animation",N="e-sidebar-context",B="e-sidebar-absolute",le=function(o){ie(e,o);function e(t,i){var s=o.call(this,t,i)||this;return s.documentClickContext=s.documentclickHandler.bind(s),s}return e.prototype.preRender=function(){this.setWidth()},e.prototype.render=function(){this.initialize(),this.wireEvents(),this.renderComplete()},e.prototype.initialize=function(){this.setTarget(),this.addClass(),this.setZindex(),this.enableDock&&this.setDock(),this.isOpen?(this.show(),this.firstRender=!0):this.setMediaQuery(),this.checkType(!0),this.setType(this.type),this.setCloseOnDocumentClick(),this.setEnableRTL(),g.isDevice&&(this.windowWidth=window.innerWidth)},e.prototype.setEnableRTL=function(){(this.enableRtl?a:d)([this.element],oe)},e.prototype.setTarget=function(){this.targetEle=this.element.nextElementSibling,this.sidebarEleCopy=this.element.cloneNode(!0),typeof this.target=="string"&&this.setProperties({target:document.querySelector(this.target)},!0),this.target&&(this.target.insertBefore(this.element,this.target.children[0]),a([this.element],B),a([this.target],N),this.targetEle=this.getTargetElement())},e.prototype.getTargetElement=function(){for(var t=this.element.nextElementSibling;!m(t)&&t.classList.contains(R);)t=t.nextElementSibling;return t},e.prototype.setCloseOnDocumentClick=function(){this.closeOnDocumentClick?(document.addEventListener("mousedown",this.documentClickContext),document.addEventListener("touchstart",this.documentClickContext)):(document.removeEventListener("mousedown",this.documentClickContext),document.removeEventListener("touchstart",this.documentClickContext))},e.prototype.setWidth=function(){this.enableDock&&this.position==="Left"?p(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock&&this.position==="Right"?p(this.element,{width:this.setDimension(this.dockSize)}):this.enableDock||p(this.element,{width:this.setDimension(this.width)})},e.prototype.setDimension=function(t){return typeof t=="number"?t=C(t):typeof t=="string"?t=t.match(/px|%|em/)?t:C(t):t="100%",t},e.prototype.setZindex=function(){p(this.element,{"z-index":""+this.zIndex})},e.prototype.addClass=function(){this.element.tagName==="EJS-SIDEBAR"&&a([this.element],re);var t=document.querySelector(".e-main-content");m(t||this.targetEle)||a([t||this.targetEle],[ae]),this.tabIndex=this.element.hasAttribute("tabindex")?this.element.getAttribute("tabindex"):null,!this.enableDock&&this.type!=="Auto"&&a([this.element],[A]),d([this.element],[u,f,x,D,S,v,k]),this.element.classList.add(R),a([this.element],this.position==="Right"?x:D),this.enableDock&&a([this.element],ne),m(this.tabIndex)||this.element.setAttribute("tabindex",this.tabIndex),this.type==="Auto"&&!g.isDevice&&this.checkMediaQuery()?this.show():this.isOpen||a([this.element],[f,L])},e.prototype.checkType=function(t){this.type==="Push"||this.type==="Over"||this.type==="Slide"?!this.element.classList.contains(f)&&!t&&this.hide():this.type="Auto"},e.prototype.transitionEnd=function(t){this.setDock(),!m(t)&&!this.firstRender&&this.triggerChange(),this.firstRender=!1,b.remove(this.element,"transitionend",this.transitionEnd)},e.prototype.destroyBackDrop=function(){var t=document.querySelector(".e-main-content")||this.targetEle;this.target&&this.showBackdrop&&t&&!m(this.defaultBackdropDiv)?d([this.defaultBackdropDiv],T):this.showBackdrop&&this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null)},e.prototype.hide=function(t){var i=this,s={model:this,element:this.element,cancel:!1,isInteracted:!m(t),event:t||null};this.trigger("close",s,function(r){if(!r.cancel){if(i.element.classList.contains(f))return;i.element.classList.contains(u)&&!i.animate&&i.triggerChange(),a([i.element],f),d([i.element],u),p(i.element,{width:C(i.enableDock?i.dockSize:i.width)}),i.setType(i.type);var c=document.querySelector(".e-main-content")||i.targetEle;!i.enableDock&&c&&(c.style.transform="translateX(0px)",c.style[i.position==="Left"?"marginLeft":"marginRight"]="0px"),i.destroyBackDrop(),i.setAnimation(),i.type==="Slide"&&document.body.classList.remove("e-sidebar-overflow"),i.setProperties({isOpen:!1},!0),i.enableDock&&setTimeout(function(){return i.setTimeOut()},50),b.add(i.element,"transitionend",i.transitionEnd,i)}})},e.prototype.setTimeOut=function(){var t=document.querySelector(".e-main-content")||this.targetEle,i=this.element.getBoundingClientRect().width;this.element.classList.contains(u)&&t&&!(this.type==="Over"&&this.enableDock)?this.position==="Left"?t.style.marginLeft=this.setDimension(this.width==="auto"?i:this.width):t.style.marginRight=this.setDimension(this.width==="auto"?i:this.width):this.element.classList.contains(f)&&t&&(this.position==="Left"?t.style.marginLeft=this.setDimension(this.dockSize==="auto"?i:this.dockSize):t.style.marginRight=this.setDimension(this.dockSize==="auto"?i:this.dockSize))},e.prototype.show=function(t){var i=this,s={model:this,element:this.element,cancel:!1,isInteracted:!m(t),event:t||null};this.trigger("open",s,function(r){if(!r.cancel){if(d([i.element],[A,L]),i.element.classList.contains(u))return;i.element.classList.contains(f)&&!i.animate&&i.triggerChange(),a([i.element],[u,j]),p(i.element,{transform:""}),d([i.element],f),p(i.element,{width:C(i.width)}),i.setType(i.type),i.createBackDrop(),i.setAnimation(),i.type==="Slide"&&document.body.classList.add("e-sidebar-overflow"),i.setProperties({isOpen:!0},!0),b.add(i.element,"transitionend",i.transitionEnd,i)}})},e.prototype.setAnimation=function(){this.animate?d([this.element],L):a([this.element],L)},e.prototype.triggerChange=function(){var t={name:"change",element:this.element};this.trigger("change",t)},e.prototype.setDock=function(){this.enableDock&&this.position==="Left"&&!this.getState()?p(this.element,{transform:"translateX(-100%) translateX("+this.setDimension(this.dockSize)+")"}):this.enableDock&&this.position==="Right"&&!this.getState()&&p(this.element,{transform:"translateX(100%) translateX(-"+this.setDimension(this.dockSize)+")"}),this.element.classList.contains(f)&&this.enableDock&&p(this.element,{width:this.setDimension(this.dockSize)})},e.prototype.createBackDrop=function(){if(this.target&&this.showBackdrop&&this.getState()){var t=this.target,i=document.querySelector(".e-main-content")||this.targetEle;this.defaultBackdropDiv=this.createElement("div"),a([this.defaultBackdropDiv],T),p(this.defaultBackdropDiv,{height:t.style.height}),i.appendChild(this.defaultBackdropDiv)}else this.showBackdrop&&!this.modal&&this.getState()&&(this.modal=this.createElement("div"),this.modal.className=T,this.modal.style.display="block",document.body.appendChild(this.modal))},e.prototype.getPersistData=function(){return this.addOnPersist(["type","position","isOpen"])},e.prototype.getModuleName=function(){return"sidebar"},e.prototype.toggle=function(){this.element.classList.contains(u)?this.hide():this.show()},e.prototype.getState=function(){return!!this.element.classList.contains(u)},e.prototype.setMediaQuery=function(){if(this.mediaQuery){var t=!1;typeof this.mediaQuery=="string"?t=window.matchMedia(this.mediaQuery).matches:t=this.mediaQuery.matches,t&&this.windowWidth!==window.innerWidth?this.show():this.getState()&&this.windowWidth!==window.innerWidth&&this.hide()}},e.prototype.checkMediaQuery=function(){return m(this.mediaQuery)?!0:typeof this.mediaQuery=="string"?window.matchMedia(this.mediaQuery).matches:this.mediaQuery.matches},e.prototype.resize=function(){!m(this.width)&&this.width!=="auto"&&typeof this.width=="string"&&!this.width.includes("px")&&this.setType(this.type),this.type==="Auto"&&(g.isDevice?a([this.element],k):a([this.element],v)),this.setMediaQuery(),g.isDevice&&(this.windowWidth=window.innerWidth)},e.prototype.documentclickHandler=function(t){Y(t.target,"."+se+"."+R)||this.hide(t)},e.prototype.enableGestureHandler=function(t){!this.isOpen&&this.position==="Left"&&t.swipeDirection==="Right"&&t.startX<=20&&t.distanceX>=50&&t.velocity>=.5?this.show():this.isOpen&&this.position==="Left"&&t.swipeDirection==="Left"?this.hide(t.originalEvent):this.isOpen&&this.position==="Right"&&t.swipeDirection==="Right"?this.hide(t.originalEvent):!this.isOpen&&this.position==="Right"&&t.swipeDirection==="Left"&&window.innerWidth-t.startX<=20&&t.distanceX>=50&&t.velocity>=.5&&this.show()},e.prototype.setEnableGestures=function(){this.enableGestures?(this.mainContentEle=new z(document.body,{swipe:this.enableGestureHandler.bind(this)}),this.sidebarEle=new z(this.element,{swipe:this.enableGestureHandler.bind(this)})):this.mainContentEle&&this.sidebarEle&&(this.mainContentEle.destroy(),this.sidebarEle.destroy())},e.prototype.wireEvents=function(){this.setEnableGestures(),b.add(window,"resize",this.resize,this)},e.prototype.unWireEvents=function(){b.remove(window,"resize",this.resize),b.remove(document,"mousedown touchstart",this.documentclickHandler),this.mainContentEle&&this.mainContentEle.destroy(),this.sidebarEle&&this.sidebarEle.destroy()},e.prototype.onPropertyChanged=function(t,i){for(var s=document.querySelector(".e-main-content")||this.targetEle,r=this.isServerRendered,c=0,y=Object.keys(t);c<y.length;c++){var E=y[c];switch(E){case"isOpen":this.isOpen?this.show():this.hide();break;case"width":this.setWidth(),this.getState()||this.setDock();break;case"animate":this.setAnimation();break;case"type":this.checkType(!1),d([this.element],[A]),this.addClass(),a([this.element],this.type==="Auto"?g.isDevice?["e-over"]:["e-push"]:["e-"+this.type.toLowerCase()]);break;case"position":this.element.style.transform="",this.setDock(),s&&(s.style[this.position==="Left"?"marginRight":"marginLeft"]="0px"),this.position==="Right"?(d([this.element],D),a([this.element],x)):(d([this.element],x),a([this.element],D)),this.setType(this.type);break;case"showBackdrop":this.showBackdrop?this.createBackDrop():this.modal&&(this.modal.style.display="none",this.modal.outerHTML="",this.modal=null);break;case"target":typeof this.target=="string"&&this.setProperties({target:document.querySelector(this.target)},!0),m(this.target)&&(d([this.element],B),d([i.target],N),p(s,{"margin-left":0,"margin-right":0}),document.body.insertAdjacentElement("afterbegin",this.element)),this.isServerRendered=!1,o.prototype.refresh.call(this),this.isServerRendered=r;break;case"closeOnDocumentClick":this.setCloseOnDocumentClick();break;case"enableDock":this.getState()||this.setDock();break;case"zIndex":this.setZindex();break;case"mediaQuery":this.setMediaQuery();break;case"enableGestures":this.setEnableGestures();break;case"enableRtl":this.setEnableRTL();break}}},e.prototype.setType=function(t){var i=this.element.getBoundingClientRect().width;this.setZindex();var s=document.querySelector(".e-main-content")||this.targetEle;s&&(s.style.transform="translateX(0px)",!g.isDevice&&this.type!=="Auto"&&!(this.type==="Over"&&this.enableDock)&&(s.style[this.position==="Left"?"marginLeft":"marginRight"]="0px"));var r=(this.position==="Left",i+"px"),c=this.position==="Left"?i:-i;switch(d([this.element],[v,k,S]),t){case"Push":a([this.element],[v]),s&&(this.enableDock||this.element.classList.contains(u))&&(s.style[this.position==="Left"?"marginLeft":"marginRight"]=r);break;case"Slide":a([this.element],[S]),s&&(this.enableDock||this.element.classList.contains(u))&&(s.style.transform="translateX("+c+"px)");break;case"Over":a([this.element],[k]),this.enableDock&&(this.element.classList.contains(f)||this.isOpen)&&s&&(s.style[this.position==="Left"?"marginLeft":"marginRight"]=this.setDimension(this.dockSize));break;case"Auto":a([this.element],[j]),g.isDevice?s&&this.enableDock&&!this.getState()?(s.style[this.position==="Left"?"marginLeft":"marginRight"]=r,a([this.element],v)):a([this.element],k):(a([this.element],v),s&&(this.enableDock||this.element.classList.contains(u))&&(s.style[this.position==="Left"?"marginLeft":"marginRight"]=r)),this.createBackDrop()}},e.prototype.destroy=function(){o.prototype.destroy.call(this),this.target&&d([this.target],N),this.destroyBackDrop(),this.element&&(d([this.element],[u,f,v,S,k,D,x,j,L]),d([this.element],B),this.element.style.width="",this.element.style.zIndex="",this.element.style.transform="",m(this.sidebarEleCopy.getAttribute("tabindex"))?this.element.removeAttribute("tabindex"):this.element.setAttribute("tabindex",this.tabIndex)),this.windowWidth=null;var t=document.querySelector(".e-main-content")||this.targetEle;m(t)||(t.style.margin="",t.style.transform=""),this.unWireEvents()},l([h("auto")],e.prototype,"dockSize",void 0),l([h(null)],e.prototype,"mediaQuery",void 0),l([h(!1)],e.prototype,"enableDock",void 0),l([h("en-US")],e.prototype,"locale",void 0),l([h(!1)],e.prototype,"enablePersistence",void 0),l([h(!0)],e.prototype,"enableGestures",void 0),l([h(!1)],e.prototype,"isOpen",void 0),l([h(!1)],e.prototype,"enableRtl",void 0),l([h(!0)],e.prototype,"animate",void 0),l([h("auto")],e.prototype,"height",void 0),l([h(!1)],e.prototype,"closeOnDocumentClick",void 0),l([h("Left")],e.prototype,"position",void 0),l([h(null)],e.prototype,"target",void 0),l([h(!1)],e.prototype,"showBackdrop",void 0),l([h("Auto")],e.prototype,"type",void 0),l([h("auto")],e.prototype,"width",void 0),l([h(1e3)],e.prototype,"zIndex",void 0),l([w()],e.prototype,"created",void 0),l([w()],e.prototype,"close",void 0),l([w()],e.prototype,"open",void 0),l([w()],e.prototype,"change",void 0),l([w()],e.prototype,"destroyed",void 0),e=l([J],e),e}(ee),he=function(){var o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,s){i.__proto__=s}||function(i,s){for(var r in s)s.hasOwnProperty(r)&&(i[r]=s[r])},o(e,t)};return function(e,t){o(e,t);function i(){this.constructor=e}e.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}}(),I=function(o){he(e,o);function e(t){var i=o.call(this,t)||this;return i.initRenderCalled=!1,i.checkInjectedModules=!0,i.statelessTemplateProps=null,i.templateProps=null,i.immediateRender=!0,i.isReactMock=!0,i.portals=[],i}return e.prototype.render=function(){if(this.isReactMock=!1,(this.element&&!this.initRenderCalled||this.refreshing)&&!this.isReactForeceUpdate)o.prototype.render.call(this),this.initRenderCalled=!0;else return _.createElement("div",this.getDefaultAttributes(),[].concat(this.props.children,this.portals))},e}(le);K(I,[V,_.Component]);const M=({handleClick:o})=>{const e=W(),t=Q(),i=async()=>{await $(),t("/sign-in")};return n.jsxs("section",{className:"nav-items",children:[n.jsxs(P,{to:"/",className:"link-logo",children:[n.jsx("img",{src:"/assets/icons/logo.svg",alt:"logo",className:"size-[30px]"}),n.jsx("h1",{children:"Tourvisto"})]}),n.jsxs("div",{className:"container",children:[n.jsx("nav",{children:q.map(({id:s,href:r,icon:c,label:y})=>n.jsx(X,{to:r,children:({isActive:E})=>n.jsxs("div",{className:U("group nav-item",{"bg-primary-100 !text-white":E}),onClick:o,children:[n.jsx("img",{src:c,alt:y,className:`group-hover:brightness-0 size-0 group-hover:invert ${E?"brightness-0 invert":"text-dark-200"}`}),y]})},s))}),n.jsxs("footer",{className:"nav-footer",children:[n.jsx("img",{src:(e==null?void 0:e.imageUrl)||"/assets/images/david.webp",alt:(e==null?void 0:e.name)||"David",referrerPolicy:"no-referrer"}),n.jsxs("article",{children:[n.jsx("h2",{children:e==null?void 0:e.name}),n.jsx("p",{children:e==null?void 0:e.email})]}),n.jsx("button",{onClick:i,className:"cursor-pointer",children:n.jsx("img",{src:"/assets/icons/logout.svg",alt:"logout",className:"size-6"})})]})]})]})},ce=()=>{let o;const e=()=>{o.toggle()};return n.jsxs("div",{className:"mobile-sidebar wrapper",children:[n.jsxs("header",{children:[n.jsxs(P,{to:"/",children:[n.jsx("img",{src:"/assets/icons/logo.svg",alt:"Logo",className:"size-[30px]"}),n.jsx("h1",{children:"Tourvisto"})]}),n.jsx("button",{onClick:e,children:n.jsx("img",{src:"/assets/icons/menu.svg",alt:"menu",className:"size-7"})})]}),n.jsx(I,{width:270,ref:t=>o=t,created:()=>o.hide(),closeOnDocumentClick:!0,showBackdrop:!0,type:"over",children:n.jsx(M,{handleClick:e})})]})};async function we(){try{const o=await te.get();if(!o.$id)return O("/sign-in");const e=await Z(o.$id);return(e==null?void 0:e.status)==="user"?O("/"):e!=null&&e.$id?e:await F()}catch(o){return console.log("Error in clientLoader",o),O("/sign-in")}}const de=()=>n.jsxs("div",{className:"admin-layout",children:[n.jsx(ce,{}),n.jsx("aside",{className:"w-full max-w-[270px] hidden lg:block",children:n.jsx(I,{width:270,enableGestures:!1,children:n.jsx(M,{})})}),n.jsx("aside",{className:"children",children:n.jsx(H,{})})]}),xe=G(de);export{we as clientLoader,xe as default};

//# debugId=074e3aa0-10f1-50ff-b531-cad21d914e1f
